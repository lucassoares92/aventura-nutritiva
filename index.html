<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aventura Nutritiva</title>
  <meta name="description" content="Jogo Aventura Nutritiva">

  <!-- 1. Carrega o Tailwind CSS para estilização moderna e responsiva -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- 2. Carrega os estilos externos (CSS) -->
  <link rel="stylesheet" href="styles.css">

  <!-- 3. Carrega o Tone.js para geração de áudio programático (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
</head>

<body class="bg-gray-100 flex flex-col items-center justify-start min-h-screen pt-4">

  <!-- Cabeçalho do Jogo e Placar -->
  <div id="score-board" class="bg-white p-4 mb-4 rounded-xl shadow-lg w-full max-w-sm text-center">
    <h1 class="text-3xl font-bold text-yellow-700 mb-2">Aventura Nutritiva</h1>
    <div class="flex justify-around text-lg font-mono">
      <span id="score" class="text-green-700 font-extrabold">Pontos: 0</span>
      <span id="lives" class="text-red-600">Vidas: 🍎🍎🍎</span>
    </div>
  </div>

  <!-- Área Principal do Jogo (Pista) -->
  <div id="game-area" class="rounded-xl">
    <!-- A Criança (Personagem) - Visibilidade será definida pelo JS após a seleção -->
    <div id="child" class="lane-1 opacity-0"></div>
  </div>

  <!-- Controles Mobile/Touch -->
  <div id="controls" class="w-full max-w-sm flex justify-around mt-4">
    <button id="move-left" class="bg-blue-600 hover:bg-blue-900 text-white font-bold py-3 px-6 rounded-lg shadow-xl transition-all active:scale-95">
      ← Esquerda
    </button>
    <button id="move-right" class="bg-blue-600 hover:bg-blue-900 text-white font-bold py-3 px-6 rounded-lg shadow-xl transition-all active:scale-95">
      Direita →
    </button>
  </div>

  <!-- Modal de Configuração (Seleção de Personagem) -->
  <div id="setup-modal" class="fixed inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center p-4 z-50">
    <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full">
      <h2 class="text-3xl font-extrabold text-green-600 mb-6">Escolha seu Personagem</h2>
      <div class="flex justify-around space-x-4 mb-8">
        <button onclick="selectCharacter('heroine')" class="p-4 rounded-xl bg-pink-100 hover:bg-pink-200 transition-all shadow-md active:scale-95 flex flex-col items-center">
          <span class="text-6xl">🦸‍♀️</span>
          <span class="mt-2 font-semibold text-pink-700">Heroína</span>
        </button>
        <button onclick="selectCharacter('hero')" class="p-4 rounded-xl bg-blue-100 hover:bg-blue-200 transition-all shadow-md active:scale-95 flex flex-col items-center">
          <span class="text-6xl">🦸‍♂️</span>
          <span class="mt-2 font-semibold text-blue-700">Herói</span>
        </button>
      </div>
      <button id="start-game-btn" onclick="startGame()" disabled class="bg-gray-400 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all">
        Iniciar Jogo
      </button>
    </div>
  </div>

  <!-- MODAL DE PAUSE -->
  <div id="pause-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50">
    <div class="bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full text-center border-4 border-yellow-500">
      <h2 class="text-5xl font-extrabold mb-4 text-yellow-600">JOGO PAUSADO</h2>
      <p class="text-xl font-semibold mb-6 text-gray-800">Pressione ESC ou clique em Continuar.</p>
      <button onclick="togglePause()" class="w-full py-3 px-6 bg-yellow-500 text-gray-800 font-bold rounded-full transition duration-300 hover:bg-yellow-600 active:scale-95">
        Continuar Jogo
      </button>
    </div>
  </div>

  <!-- Modal de Fim de Jogo -->
  <div id="game-over-modal" class="hidden fixed inset-0 bg-red-900 bg-opacity-70 flex flex-col items-center justify-center p-4 z-50">
    <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full">
      <h2 class="text-4xl font-extrabold text-red-600 mb-4">FIM DE JOGO!</h2>
      <p id="final-score" class="text-xl text-gray-700 mb-6"></p>
      <p class="text-lg text-gray-500 mb-6">Lembre-se: Escolhas saudáveis levam você mais longe!</p>
      <button onclick="window.location.reload()" class="bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all active:scale-90">
        Tentar Novamente
      </button>
    </div>
  </div>

  <!-- 4. Carrega a lógica do jogo (JavaScript) -->
  <script src="game.js"></script>
</body>

</html>